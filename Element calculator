#include <iostream>
#include <unordered_map>
#include <string>
#include <limits>

int main() {
    std::unordered_map<std::string, std::pair<std::string, double>> elementInfo;

    // Add element information to the map for all 118 elements
    elementInfo["H"] = {"Hydrogen", 1.008};
elementInfo["He"] = {"Helium", 4.0026};
elementInfo["Li"] = {"Lithium", 6.94};
elementInfo["Be"] = {"Beryllium", 9.0122};
elementInfo["B"] = {"Boron", 10.81};
elementInfo["C"] = {"Carbon", 12.011};
elementInfo["N"] = {"Nitrogen", 14.007};
elementInfo["O"] = {"Oxygen", 15.999};
elementInfo["F"] = {"Fluorine", 18.998};
elementInfo["Ne"] = {"Neon", 20.180};
elementInfo["Na"] = {"Sodium", 22.990};
elementInfo["Mg"] = {"Magnesium", 24.305};
elementInfo["Al"] = {"Aluminum", 26.982};
elementInfo["Si"] = {"Silicon", 28.085};
elementInfo["P"] = {"Phosphorus", 30.974};
elementInfo["S"] = {"Sulfur", 32.06};
elementInfo["Cl"] = {"Chlorine", 35.45};
elementInfo["Ar"] = {"Argon", 39.948};
elementInfo["K"] = {"Potassium", 39.098};
elementInfo["Ca"] = {"Calcium", 40.078};
elementInfo["Sc"] = {"Scandium", 44.956};
elementInfo["Ti"] = {"Titanium", 47.867};
elementInfo["V"] = {"Vanadium", 50.942};
elementInfo["Cr"] = {"Chromium", 51.996};
elementInfo["Mn"] = {"Manganese", 54.938};
elementInfo["Fe"] = {"Iron", 55.845};
elementInfo["Co"] = {"Cobalt", 58.933};
elementInfo["Ni"] = {"Nickel", 58.693};
elementInfo["Cu"] = {"Copper", 63.546};
elementInfo["Zn"] = {"Zinc", 65.38};
elementInfo["Ga"] = {"Gallium", 69.723};
elementInfo["Ge"] = {"Germanium", 72.630};
elementInfo["As"] = {"Arsenic", 74.922};
elementInfo["Se"] = {"Selenium", 78.971};
elementInfo["Br"] = {"Bromine", 79.904};
elementInfo["Kr"] = {"Krypton", 83.798};
elementInfo["Rb"] = {"Rubidium", 85.468};
elementInfo["Sr"] = {"Strontium", 87.62};
elementInfo["Y"] = {"Yttrium", 88.906};
elementInfo["Zr"] = {"Zirconium", 91.224};
elementInfo["Nb"] = {"Niobium", 92.906};
elementInfo["Mo"] = {"Molybdenum", 95.95};
elementInfo["Tc"] = {"Technetium", 98};
elementInfo["Ru"] = {"Ruthenium", 101.07};
elementInfo["Rh"] = {"Rhodium", 102.91};
elementInfo["Pd"] = {"Palladium", 106.42};
elementInfo["Ag"] = {"Silver", 107.87};
elementInfo["Cd"] = {"Cadmium", 112.41};
elementInfo["In"] = {"Indium", 114.82};
elementInfo["Sn"] = {"Tin", 118.71};
elementInfo["Sb"] = {"Antimony", 121.76};
elementInfo["Te"] = {"Tellurium", 127.60};
elementInfo["I"] = {"Iodine", 126.90};
elementInfo["Xe"] = {"Xenon", 131.29};
elementInfo["Cs"] = {"Cesium", 132.91};
elementInfo["Ba"] = {"Barium", 137.33};
elementInfo["La"] = {"Lanthanum", 138.91};
elementInfo["Ce"] = {"Cerium", 140.12};
elementInfo["Pr"] = {"Praseodymium", 140.91};
elementInfo["Nd"] = {"Neodymium", 144.24};
elementInfo["Pm"] = {"Promethium", 145};
elementInfo["Sm"] = {"Samarium", 150.36};
elementInfo["Eu"] = {"Europium", 151.96};
elementInfo["Gd"] = {"Gadolinium", 157.25};
elementInfo["Tb"] = {"Terbium", 158.93};
elementInfo["Dy"] = {"Dysprosium", 162.50};
elementInfo["Ho"] = {"Holmium", 164.93};
elementInfo["Er"] = {"Erbium", 167.26};
elementInfo["Tm"] = {"Thulium", 168.93};
elementInfo["Yb"] = {"Ytterbium", 173.04};
elementInfo["Lu"] = {"Lutetium", 174.97};
elementInfo["Hf"] = {"Hafnium", 178.49};
elementInfo["Ta"] = {"Tantalum", 180.95};
elementInfo["W"] = {"Tungsten", 183.84};
elementInfo["Re"] = {"Rhenium", 186.21};
elementInfo["Os"] = {"Osmium", 190.23};
elementInfo["Ir"] = {"Iridium", 192.22};
elementInfo["Pt"] = {"Platinum", 195.08};
elementInfo["Au"] = {"Gold", 196.97};
elementInfo["Hg"] = {"Mercury", 200.59};
elementInfo["Tl"] = {"Thallium", 204.38};
elementInfo["Pb"] = {"Lead", 207.2};
elementInfo["Bi"] = {"Bismuth", 208.98};
elementInfo["Po"] = {"Polonium", 209};
elementInfo["At"] = {"Astatine", 210};
elementInfo["Rn"] = {"Radon", 222};
elementInfo["Fr"] = {"Francium", 223};
elementInfo["Ra"] = {"Radium", 226};
elementInfo["Ac"] = {"Actinium", 227};
elementInfo["Th"] = {"Thorium", 232.04};
elementInfo["Pa"] = {"Protactinium", 231.04};
elementInfo["U"] = {"Uranium", 238.03};
elementInfo["Np"] = {"Neptunium", 237};
elementInfo["Pu"] = {"Plutonium", 244};
elementInfo["Am"] = {"Americium", 243};
elementInfo["Cm"] = {"Curium", 247};
elementInfo["Bk"] = {"Berkelium", 247};
elementInfo["Cf"] = {"Californium", 251};
elementInfo["Es"] = {"Einsteinium", 252};
elementInfo["Fm"] = {"Fermium", 257};
elementInfo["Md"] = {"Mendelevium", 258};
elementInfo["No"] = {"Nobelium", 259};
elementInfo["Lr"] = {"Lawrencium", 262};
elementInfo["Rf"] = {"Rutherfordium", 267};
elementInfo["Db"] = {"Dubnium", 270};
elementInfo["Sg"] = {"Seaborgium", 271};
elementInfo["Bh"] = {"Bohrium", 270};
elementInfo["Hs"] = {"Hassium", 277};
elementInfo["Mt"] = {"Meitnerium", 276};
elementInfo["Ds"] = {"Darmstadtium", 281};
elementInfo["Rg"] = {"Roentgenium", 280};
elementInfo["Cn"] = {"Copernicium", 285};
elementInfo["Nh"] = {"Nihonium", 284};
elementInfo["Fl"] = {"Flerovium", 289};
elementInfo["Mc"] = {"Moscovium", 288};
elementInfo["Lv"] = {"Livermorium", 293};
elementInfo["Ts"] = {"Tennessine", 294};
elementInfo["Og"] = {"Oganesson", 294};


    // User input for the element symbol
    std::string elementSymbol;
    std::cout << "Enter the element symbol: ";
    std::cin >> elementSymbol;

    // Check if the element symbol is in the map
    if (elementInfo.find(elementSymbol) != elementInfo.end()) {
        std::string elementName = elementInfo[elementSymbol].first;
        double elementMass = elementInfo[elementSymbol].second;
        std::cout << "Element: " << elementSymbol << " (" << elementName << ")" << std::endl;
        std::cout << "Atomic mass: " << elementMass << std::endl;

        // Calculator loop
        char calculatorOperation;
        double result = elementMass;

        while (true) {
            std::cout << "Enter operation (+, -, *, /, = to stop) and element symbol: ";
            std::cin >> calculatorOperation;

            if (calculatorOperation == '=') {
                break;  // Exit the loop if '=' is entered
            }

            // Check if the entered element symbol is in the map
            std::string operandSymbol;
            std::cin >> operandSymbol;
            if (elementInfo.find(operandSymbol) == elementInfo.end()) {
                std::cout << "Error: Element symbol not found." << std::endl;
                continue;  // Skip the rest of the loop and ask for a new operation
            }

            double operandMass = elementInfo[operandSymbol].second;

            switch (calculatorOperation) {
                case '+':
                    result += operandMass;
                    break;
                case '-':
                    result -= operandMass;
                    break;
                case '*':
                    result *= operandMass;
                    break;
                case '/':
                    if (operandMass != 0.0) {
                        result /= operandMass;
                    } else {
                        std::cout << "Error: Division by zero!" << std::endl;
                        continue;  // Skip the rest of the loop and ask for a new operation
                    }
                    break;
                default:
                    std::cout << "Invalid operation. Please enter +, -, *, /, or = to stop." << std::endl;
                    continue;  // Skip the rest of the loop and ask for a new operation
            }

            // Display the updated result
            std::cout << "Updated result: " << result << std::endl;

            // Clear the input buffer
            std::cin.ignore(std::numeric_limits<std::streamsize>::max(), '\n');
        }

        std::cout << "Final result: " << result << std::endl;
    } else {
        std::cout << "Error: Element symbol not found." << std::endl;
    }

    return 0;
}
    